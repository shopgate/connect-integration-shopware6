(window.webpackJsonp=window.webpackJsonp||[]).push([["shopgate-connect-s-w6"],{yfvq:function(e,n,t){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,n){return!n||"object"!==i(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,n){return(p=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t.r(n);var s=function(e){function n(){return o(this,n),a(this,c(n).apply(this,arguments))}var t,i,s;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&p(e,n)}(n,e),t=n,(i=[{key:"init",value:function(){if(this.initSGApp(this),!this.isShopgateApp())return this.initShopgateApp();this.executeWithRetry(40,3e3,this.initShopgateApp)}},{key:"executeWithRetry",value:function(e,n,t){var i=Date.now();if(!t())var o=setInterval((function(){(i+n<=Date.now()||t())&&clearInterval(o)}),e)}},{key:"disableBrowserZoom",value:function(){var e=document.createElement("meta");e.setAttribute("name","viewport"),e.setAttribute("content","user-scalable=no, width=device-width"),document.getElementsByTagName("head").item(0).appendChild(e)}},{key:"createScriptCacheKey",value:function(e){return"string"==typeof e&&""!==e?"sgCodeCache: "+e:""}},{key:"insertShopgateMetaTag",value:function(){var e="libshopgate";if(!document.getElementById(e)){var n=document.createElement("meta");n.setAttribute("id",e),n.src=e,document.getElementsByTagName("head").item(0).appendChild(n)}}},{key:"isShopgateApp",value:function(){return-1!==navigator.userAgent.indexOf("libshopgate")}},{key:"initShopgateApp",value:function(){return!!window.SGJavascriptBridge&&("function"==typeof initPipelineCall&&initPipelineCall(),setTimeout((function(){window.SGAppConnector.closeLoadingSpinner()}),3e3),!0)}},{key:"initSGApp",value:function(e){window.SGAppConnector={pipelineResponseHandler:{},functionExists:function(e){return"function"==typeof e},getRandomPassPhrase:function(e){return e||(e=16),new Array(e).fill("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!Â§$%&/()=?ÃŸ+*~#'-_.:,;<>|{[]}^Â°").map((function(e){return e[Math.floor(Math.random()*e.length)]})).join("")},getParameterByName:function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},sendAppCommands:function(e){var n="12.0";"dispatchCommandsForVersion"in window.SGJavascriptBridge?window.SGJavascriptBridge.dispatchCommandsForVersion(e,n):window.SGJavascriptBridge.dispatchCommandsStringForVersion(JSON.stringify(e),n)},sendAppCommand:function(e){this.sendAppCommands([e])},closeLoadingSpinner:function(){this.sendAppCommand({c:"onload"})},sendPipelineRequest:function(e,n,t,i,o){t||(t={}),o||(o=null);var r={c:"sendPipelineRequest",p:{serial:e,name:e,input:t}};n&&(r.p.type="trusted"),this.pipelineResponseHandler[e]={callbackParams:o,__call:function(n,t,o){if(window.SGAppConnector.functionExists(i))return console.log("## running response callback for pipeline call: "+e),i(n,t,o);console.log("## no callback registered for pipeline call: "+e)}},this.sendAppCommand(r)},includeScript:function(e,n){n||(e="(function () {"+e+";})();");var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head").item(0).appendChild(t)},saveScriptToCache:function(n,t){var i=e.createScriptCacheKey(n);i&&"string"==typeof t&&window.localStorage.setItem(i,btoa(t))},getScriptFromCache:function(n){var t=e.createScriptCacheKey(n);if(t){var i=window.localStorage.getItem(t);return"string"==typeof i?atob(i):null}return null},loadRemoteScript:function(e,n){var t=this.getScriptFromCache(e);if(t)this.includeScript(t,n);else{var i=new XMLHttpRequest;i.open("GET",e),i.onreadystatechange=function(){window.SGAppConnector.saveScriptToCache(e,i.responseText),window.SGAppConnector.includeScript(i.responseText,n)},i.send()}},loadPipelineScript:function(e,n){var t=this.getScriptFromCache(e);if(t)return this.includeScript(t,null),void(this.functionExists(window.SGPipelineScript[e])&&(console.log("## -> calling: SGPipelineScript."+e+"("+JSON.stringify(n)+")"),window.SGPipelineScript[e](n)));this.sendPipelineRequest("getScript_v1",!1,{scriptName:e},(function(e,t,i){console.log("## -> including pipeline script: "+i.scriptName+".js");var o=atob(t.scriptCode);window.SGAppConnector.saveScriptToCache(i.scriptName,o),window.SGAppConnector.includeScript(o,null),window.SGAppConnector.functionExists(window.SGPipelineScript[i.scriptName])&&(console.log("## -> calling: SGPipelineScript."+i.scriptName+"("+JSON.stringify(i.passthroughParams)+")"),window.SGPipelineScript[i.scriptName](n))}),{scriptName:e,passthroughParams:n,this:this})}},window.SGPipelineScript={},window.SGEvent={__call:function(e,n){console.log("# Received event "+e),n&&Array.isArray(n)||(n=[]),SGEvent[e]&&SGEvent[e].apply(SGEvent,n)},pipelineResponse:function(e,n,t){if(e&&console.error("Called pipeline '"+n+"' resulted in an error: "+JSON.stringify(e)),window.SGAppConnector.pipelineResponseHandler[n]){var i=window.SGAppConnector.pipelineResponseHandler[n];return i.__call(e,t,i.callbackParams)}},isDocumentReady:function(){return!0}},window.SGAppConnector.functionExists(String.prototype.endsWith)&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)})}}])&&r(t.prototype,i),s&&r(t,s),n}(t("FGIj").a);window.PluginManager.register("SgConnectAppPlugin",s,"[data-sg-connect-app-plugin]")}},[["yfvq","runtime","vendor-node","vendor-shared"]]]);